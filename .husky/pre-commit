#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

START_TIME=$(date "+%Y-%m-%d %H:%M:%S")
echo "ğŸ” [$START_TIME] commit ì´ì „ì— lint ê·œì¹™ì„ ì ìš©í•©ë‹ˆë‹¤..."
if npx lint-staged; then
  END_TIME=$(date "+%Y-%m-%d %H:%M:%S")
  echo "âœ… [$END_TIME] ëª¨ë“  lint ê·œì¹™ì´ ì„±ê³µì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤."
  exit 0
else
  END_TIME=$(date "+%Y-%m-%d %H:%M:%S")
  echo "âŒ [$END_TIME] lint ê·œì¹™ ê²€ì‚¬ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."
  exit 1
fi

# https://github.com/desktop/desktop/issues/17385
# husky window ë¯¸ì‘ë™ ì‹œ ì°¸ê³ í•  ê²ƒ
# ë§Œì•½ì— ê·¸ë˜ë„ ì‘ë™ì´ ì•ˆëœë‹¤ë©´ í—ˆìŠ¤í‚¤ ê¸°ë³¸ ì„¤ì¹˜ë¥¼ ë‹¤ì‹œ í•´ë³¼ ê²ƒ